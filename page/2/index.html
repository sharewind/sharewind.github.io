<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="keywords" content=" 耐克赤足系列 耐克赤足2.0 3.0 4.0 5.0 7.0 耐克赤足跑鞋 耐克赤足二代 耐克编织跑鞋 耐克飞线系列 耐克飞线彩虹 耐克飞线气垫      耐克飞线价格 耐克飞线2014 耐克飞线鞋 耐克飞线登月 耐克飞线科技 耐克飞线2015 耐克登月系列 耐克登月3 4 5 6耐克登月系列跑步鞋 耐克阿甘鞋 耐克2013气垫鞋        耐克2014全掌气垫鞋 耐克2015气垫鞋 耐克max90高板反毛皮跑鞋" />
  <meta name="description" content="莆田批发高仿真标耐克系列跑鞋 耐克赤足滴塑新科技超轻NIKE FREE 5.0 耐克Nike Roshe Flyknit新款跑鞋 耐克2013磨砂皮            耐克赤足Nike Free 4.0 Flyknit赤足跑鞋 耐克登月6跑鞋 耐克2013男鞋 Nike Solarsoft Moccasin Woven 编织纹 超轻跑步鞋太阳神反毛皮 耐克2014飞线 耐克2015飞线      耐克登月NIKE FLYKNIT LUNAR2+编织版  耐克2013 耐克20K6代 7代 耐克87代系列轻量跑鞋" />
  
  <title>sharewind coder blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="sharewind coder blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="sharewind coder blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="sharewind coder blog">
  
    <link rel="alternate" href="/atom.xml" title="sharewind coder blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">sharewind coder blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-time-in-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/28/time-in-python/" class="article-date">
  <time datetime="2013-03-28T02:41:00.000Z" itemprop="datePublished">2013-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/28/time-in-python/">time in python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###datetime 模块</p>
<p>datetime.MINYEAR 1  date或datetime中所允许的年份<br>datetime.MAXYEAR 9999 date或datetime中所允许的年份  </p>
<p>####类型  </p>
<ul>
<li>datetime.<strong>date</strong> 表示日期的类，属性：year,month,day.  </li>
<li>datetime.<strong>time</strong> 表示时间的类,不依赖于具体的日期，假定每天有 24 <em> 60 </em> 60 秒，属性：hour,minute,second,miscrosecond, and tzinfo.  </li>
<li>datetime.<strong>datetime</strong> 日期与时间的组合，属性：year,month,day，hour,minute,second,miscrosecond, and tzinfo.    </li>
<li>datetime.<strong>timedelta</strong> 表示两个date,time or datetime之间的差。  </li>
<li>datetime.<strong>tzinfo</strong> 抽象的时区信息类。在datetime 和 time 类中被用来提供一个可定制时区的概念。  </li>
</ul>
<p>以上类型都是不可变的。</p>
<p>类的继承关系</p>
<pre><code>object  
    timedelta  
    tzinfo  
    time  
    date  
        datetime  
</code></pre><p><strong>timedelta</strong>  </p>
<ul>
<li>datetime.timedelta(days,seconds,microseconds,minutes,hours,weeks)  </li>
<li>timedelta.total_seconds()  </li>
</ul>
<p>year = datetime.timedelta(days=365)<br>ten_year = year * 10</p>
<p>一天有多少秒<br>datetime.timedelta(days=1).total_seconds()</p>
<p>明天<br>datetime.date.today() + datetime.timedelta(days=1)</p>
<p><strong>date</strong>  </p>
<p>类方法  </p>
<ul>
<li>datetime.date(year, month, day)  </li>
<li>date.today()   This is equivalent to date.fromtimestamp(time.time()).  </li>
<li>date.fromtimestamp(timestamp)  返回time.time() 构造timestamp 对应的日期。  </li>
<li>date.fromordinal(ordinal) 0001-01-01年算的序数为1.</li>
</ul>
<p>实例方法  </p>
<ul>
<li>date.replace(year, month, day)  </li>
<li>date.isocalendar() 返回格式为（2013，03，28）这样的元组  </li>
<li>date.isoformat()  ‘YYYY-MM-DD’. 示例, date(2002, 12, 4).isoformat() == ‘2002-12-04’.    </li>
<li>date.ctime()   for example date(2002, 12, 4).ctime() == ‘Wed Dec 4 00:00:00 2002’. </li>
<li>date.strftime(format) 返回指定格式的日期  </li>
<li>date.weekday() 返回星期几，0是星期一。</li>
</ul>
<p>支持的运算<br>date2 = date1 + timedelta<br>date2 = date1 - timedelate<br>timedelta = date1 - date2<br>date1 &lt; date2  </p>
<p><strong>datetime</strong></p>
<p>类方法(返回datetime对象)  </p>
<ul>
<li>datetime.datetime(year, month, day[, hour[, minute[, second[, microsecond[, tzinfo]]]]])    </li>
<li>datetime.today()  等同于 datetime.fromtimestamp(time.time())，tzinfo 为None.</li>
<li>datetime.now([tz])     </li>
<li>datetime.fromtimestamp(timestamp[, tz])  </li>
<li>datetime.combine(date, time)  </li>
<li>datetime.strptime(date_string, format)  将字符串转换为时间。</li>
</ul>
<p>实例方法  </p>
<ul>
<li>datetime.date()  </li>
<li>datetime.time()  </li>
<li>datetime.replace([year[, month[, day[, hour[, minute[, second[, microsecond[, tzinfo]]]]]]]])  </li>
<li>datetime.timetuple()  类似time.localtime(),等同于 time.struct_time((d.year, d.month, d.day, d.hour, d.minute, d.second, d.weekday(), yday, dst))  </li>
<li>datetime.strftime(format)  </li>
</ul>
<p>支持的运算<br>datetime2 = datetime1 + timedelta<br>datetime2 = datetime1 - timedelate<br>timedelta = datetime1 - datetime2<br>datetime1 &lt; datetime2  </p>
<p><strong>time</strong></p>
<p>datetime.time([hour[, minute[, second[, microsecond[, tzinfo]]]]])  </p>
<p>实例方法  </p>
<ul>
<li>time.replace([hour[, minute[, second[, microsecond[, tzinfo]]]]])  </li>
<li>time.isoformat() ISO 8601 format, HH:MM:SS.mmmmmm</li>
<li>time.strftime(format)  </li>
</ul>
<p>###time 模块</p>
<p>time 模块在Uninx平台上的时间纪元从1970年1月1日开始，截止点是2038年。该模块不能处理1970年前或是2038年后的时间。</p>
<p><strong>类</strong></p>
<p>time.struct_time<br>gmtime(), localtime(), and strptime() 时间序列的返回类型. 是一个命名元组接口: 值可以用索引或属性名进行访问.属性如下：</p>
<pre><code>Index    Attribute    Values
0    tm_year    (for example, 1993)
1    tm_mon    range [1, 12]
2    tm_mday    range [1, 31]
3    tm_hour    range [0, 23]
4    tm_min    range [0, 59]
5    tm_sec    range [0, 61]; see (2) in strftime() description
6    tm_wday    range [0, 6], Monday is 0
7    tm_yday    range [1, 366]
8    tm_isdst    0, 1 or -1; see below
</code></pre><p><strong>函数</strong>   </p>
<ul>
<li>time.time() 返回从纪元开始的秒数，是一个浮点数。  </li>
<li><p>time.clock()在Unix上返回当前处理器的时间。</p>
</li>
<li><p>time.gmtime([secs])  把秒数转化为GMT时间，返回time.struct_time。<br>gmtime(0) 返回unix时间，1970年1月1日。</p>
</li>
<li><p>time.localtime([secs]) 将秒数转化为本地时间，返回 time.struct_time。   (tm_year=2013, tm_mon=3, tm_mday=28, tm_hour=14, tm_min=48, tm_sec=26, tm_wday=3, tm_yday=87, tm_isdst=0) </p>
</li>
<li><p>time.mktime(t) localtime()的逆过程，参数为 struct_time or full 9-tuple。返回时间截，一个类似time.time() 一样的浮点数。</p>
</li>
<li><p>time.asctime([t]) 把  gmtime() 或  localtime() 返回的tunple 或struct_time 转化为本地时间字符串。如果未指定t,则使用 localtime() 。如：’Sun Jun 20 23:21:05 1993’。</p>
</li>
<li><p>time.ctime([secs]) 把秒数表示为当前本地时间字符串。如果未指定参数，则使用time().’Thu Mar 28 14:43:37 2013’   </p>
</li>
<li><p>time.sleep(secs)  暂停当前线程指定的秒数。参数可以是浮点数。</p>
</li>
</ul>
<ul>
<li>time.strftime(format[, t]) 格式化时间为字符串, 把 gmtime() or localtime() 返回的tunple 或 struct_time  进行格式化。</li>
<li>time.strptime(string[, format]) 将字符串转化为时间，返回struct_time</li>
</ul>
<p>当前时间的两种方式<br>time.strftime(“%Y-%m-%d %H:%M:%S”)<br>datetime.now().strftime(“%Y-%m-%d %H:%M:%S”)</p>
<h3 id="calendar-模块"><a href="#calendar-模块" class="headerlink" title="calendar 模块"></a>calendar 模块</h3><p>这个模块提供了一些有用的日历功能。</p>
<p>类方法<br>calendar.Calendar([firstweekday]) firstweekday指定一周的第一天，默认0以周一作为一周的第一天，6把星期天作为一周的第一天。</p>
<p>实例方法  </p>
<ul>
<li>iterweekdays() 遍历week的每一天,从0-6</li>
<li>itermonthdates(year, month)遍历month的每一天，返回2013-02-01的格式。并且以周为单位，会算上月份开始的那周一开始到月份结束的那周末。</li>
<li>itermonthdays2(year, month) 遍历month的每一天，返回（几日，周几）的元组。</li>
<li>itermonthdays(year, month) 遍历month的每一天，只返回几日。</li>
<li>monthdatescalendar(year,month) 返回这个月的 datetime.date 的对象列表。</li>
</ul>
<p>TextCalendar 生成文本日历<br>HTMLCalendar 生成HTML日历</p>
<p>静态方法</p>
<ul>
<li>calendar.isleap(year) 是否润年  </li>
<li>calendar.leapdays(y1, y2) 从y1到y2（不包括y2）有几个润年  </li>
<li>calendar.weekday(year, month, day) 返回周几，0是星期一。  </li>
<li>calendar.monthrange(year, month) 返回当月第一天是周几，当月有多少天。  </li>
</ul>
<h3 id="timeit-模块"><a href="#timeit-模块" class="headerlink" title="timeit 模块"></a>timeit 模块</h3><p>timeit 是一个可以衡量代码块执行时间的工具</p>
<p>简单示例  </p>
<figure class="highlight python"><figcaption><span>监测程序执行的时间</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">python -m timeit <span class="string">'"-".join(str(n) for n in range(100))'</span>  </span><br><span class="line">timeit.timeit(<span class="string">'"-".join(str(n) for n in range(100))'</span>, number=<span class="number">10000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>复杂示例 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""Stupid test function"""</span></span><br><span class="line">    L = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">        L.append(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">import</span> timeit</span><br><span class="line">	<span class="comment"># 这里从当前的__main__模块中import了test方法</span></span><br><span class="line">    print(timeit.timeit(<span class="string">"test()"</span>, setup=<span class="string">"from __main__ import test"</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="计时"><a href="#计时" class="headerlink" title="计时"></a>计时</h3><pre><code>def timer(func, reps, *pargs, **kargs):
    start = time.clock()
    for i in xrange(reps):
        ret = func(*pargs,**kargs)
    elapsed = time.clock() - start
    reutrn (elasped,ret)
</code></pre><p>对于windows系统 time.clock() 调用计时代码是最好的。time.time 在某些Unix平台上可能提供更好的解析。<br>更加内容参考：《Python学习手册》</p>
<p>####参考资料</p>
<ul>
<li><a href="http://docs.python.org/2/library/datetime.html#module-datetime" target="_blank" rel="noopener">8.1. datetime — Basic date and time types</a></li>
<li><a href="http://docs.python.org/2/library/time.html#time.time" target="_blank" rel="noopener">15.3. time — Time access and conversions</a></li>
<li><a href="http://docs.python.org/2/library/calendar.html#module-calendar" target="_blank" rel="noopener">8.2. calendar — General calendar-related functions</a></li>
<li><a href="http://docs.python.org/2/library/timeit.html" target="_blank" rel="noopener">timeit — Measure execution time of small code snippets</a></li>
</ul>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/28/time-in-python/" data-id="cja9q2adh002knh5ipzyy9b0n" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-top-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/21/top-command/" class="article-date">
  <time datetime="2013-03-21T02:33:00.000Z" itemprop="datePublished">2013-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux-Shell/">Linux Shell</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/21/top-command/">top命令指南</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>####top 字段信息</p>
<ul>
<li>PID：进程的ID  </li>
<li>USER：进程所有者</li>
<li>PR：进程的优先级别，越小越优先被执行</li>
<li>NInice：值</li>
<li>VIRT：进程占用的虚拟内存</li>
<li>RES：进程占用的物理内存</li>
<li>SHR：进程使用的共享内存</li>
<li>S：进程的状态。S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值为负数</li>
<li>%CPU：进程占用CPU的使用率</li>
<li>%MEM：进程使用的物理内存和总内存的百分比</li>
<li>TIME+：该进程启动后占用的总的CPU时间，即占用CPU使用时间的累加值。</li>
<li>COMMAND：进程启动命令名称</li>
</ul>
<h4 id="top命令操作指令"><a href="#top命令操作指令" class="headerlink" title="top命令操作指令"></a>top命令操作指令</h4><p>【头部信息】</p>
<pre><code>1. l 切换uptime负载信息
2. t 切换 task/cpu 信息
3. m 切换内存信息
</code></pre><p>【显示】</p>
<pre><code>1. 按数字1 显示每个物理cpu 的负载G情况
2. c 显示完整的命令行参数
3. H(Shift + h)显示线程信息
4. f 调整显示的字段 
5. o 调整显示列的顺序
6. S(Shift + s)累计模式，会把已完成或退出的子进程占用的CPU时间累计到父进程的MITE+
</code></pre><p>【高亮】     </p>
<pre><code>1. b 打开或关闭高亮
2. x 打开或关闭排序列高亮
3. y 打开或关闭行高亮
</code></pre><p>【控制】</p>
<pre><code>1.  h 显示帮助信息
2.  q 退出top命令
3.  &lt;Space&gt; 立即刷新
4.  k 杀死某个进程 pid 
5.  r 修改进程的renice 值
6.  s 改变刷的时间间隔
7.  W（Shift + w）保存对top的设置到文件~/.toprc,下次启动将自动调用toprc 文件的设置。
</code></pre><p>【窗口】</p>
<pre><code>1. A(Shift + a)切换单窗口与多窗口显示
2. G(shift + g) 切换显示的 窗口（field group）,1 = Def 默认，2= Job,3=Mem,4 =usr 用户。 或在多窗口模式下，选择当前窗口。
3. a,w 在多窗口模式时，循环列表， a = Forward ,w = Backward.
4. - 减号 打开或关闭当前窗口
</code></pre><p>【排序】</p>
<pre><code>1. P(Shift + p) 按cpu占用排序
2. M(Shitf + m) 按内存占用排序
3. N(Shift + n)按进程id (pid) 进行排序
4. T(Shitf + t)按进程生存时间排序MP&lt;&lt;&lt;
5. R(Shift + r) 倒序，改变排序方式
6. &lt;（Shift + ,） 或 &gt;(Shift + .) 改变排序字段
7. F (Shift + f) 或 O(Shift + o) 选择排序的字段
</code></pre><p>【过滤】     </p>
<pre><code>1. u 过滤用户
2. g 过滤组
3. i 不显示睡眠进程与僵尸进程，只显示正在运行的进程 
</code></pre><p>#####top命令行参数</p>
<p>top -hv | -bcisSHM -d delay -n iterations [-u user | -U user] -p pid [,pid …]</p>
<p>-h 显示帮助</p>
<p>-b 批处理模式<br>-c 显示程序名称或命令行参数<br>-d delay 指定刷新时间<br>-H 显示线程<br>-i  Idle process toggle<br>-M 按（k/M/G）的方式来显示内存信息 </p>
<p>-u user 指定用户<br>-p pid 指定进程id  </p>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/21/top-command/" data-id="cja9q2adf002gnh5i2hi7qzzg" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-track-cumulative-java-heap-bytes-allocated-on-a-per-thread-basis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/21/track-cumulative-java-heap-bytes-allocated-on-a-per-thread-basis/" class="article-date">
  <time datetime="2013-03-21T01:38:00.000Z" itemprop="datePublished">2013-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java-JVM/">Java JVM</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/21/track-cumulative-java-heap-bytes-allocated-on-a-per-thread-basis/">跟踪JVM在每个线程上分配的堆内存</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JDK 6 update 25 里添加的一个新功能非常有趣，可以按照线程来跟踪（GC堆）内存的分配量。</p>
<p>JMX中，该功能由ThreadMXBean上新增的几个方法提供。详情可见下面例子。<br>ThreadMXBean.getThreadAllocatedBytes(long threadId)的用法基本上可以看成跟System.currentTimeMillis()用于计时的用法一样，在两点上记录并且求差即可。 </p>
<pre><code>import java.lang.management.ManagementFactory;
import java.text.DecimalFormat;
import java.util.ArrayList;
import java.util.List;

import com.sun.management.ThreadMXBean;

@SuppressWarnings(&quot;restriction&quot;)
public class TestThreadAllocateBytes {

    public static void main(String[] args) {

        for (int i = 0; i &lt; 2; i++) {
            new Thread(new Task()).start();
        }

        while(true){

        }
    }

    public static class Task implements Runnable{

        @Override
        public void run() {

            ThreadMXBean threadMXBean = (ThreadMXBean) ManagementFactory.getThreadMXBean();
            long startSize = threadMXBean.getThreadAllocatedBytes(Thread.currentThread().getId());
            System.out.println(Thread.currentThread().getName() + &quot; start &quot; + startSize);

            String msg = &quot;hello world&quot;;
            List&lt;String&gt; list = new ArrayList&lt;&gt;();
            for (int i = 0; i &lt; 10000; i++) {
                list.add(msg + i);
            }

            long endSize = threadMXBean.getThreadAllocatedBytes(Thread.currentThread().getId());
            long costBytes = endSize - startSize;

            System.out.println(Thread.currentThread().getName() + &quot; end &quot; + endSize);
            System.out.println(Thread.currentThread().getName() + &quot; 消耗了内存： &quot; + readableFileSize(costBytes));


            try {
                Thread.sleep(1000 * 1000 * 1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }

    }


    public static String readableFileSize(long size) {
        if(size &lt;= 0) return &quot;0&quot;;
        final String[] units = new String[] { &quot;B&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot; };
        int digitGroups = (int) (Math.log10(size)/Math.log10(1024));
        return new DecimalFormat(&quot;#,##0.#&quot;).format(size/Math.pow(1024, digitGroups)) + &quot; &quot; + units[digitGroups];
    }

}
</code></pre><p>输出</p>
<pre><code>Thread-0 start 7568
Thread-0 end 1862032
Thread-1 start 48
Thread-1 end 1849304
Thread-1 消耗了内存： 1.8 MB
Thread-0 消耗了内存： 1.8 MB
</code></pre><h4 id="通过jvisualvm-查看JVM的内存分配"><a href="#通过jvisualvm-查看JVM的内存分配" class="headerlink" title="通过jvisualvm 查看JVM的内存分配"></a>通过jvisualvm 查看JVM的内存分配</h4><h5 id="1-查看每个对象占用的堆内存大小"><a href="#1-查看每个对象占用的堆内存大小" class="headerlink" title="1.查看每个对象占用的堆内存大小"></a>1.查看每个对象占用的堆内存大小</h5><p><img src="/pics/jvisualvm-memory-1.jpg" alt=""></p>
<p>#####2.查看每个线程占用的堆内存大小</p>
<p><img src="/pics/jvisualvm-memory-2.jpg" alt=""></p>
<p>参考资料</p>
<ul>
<li><a href="http://rednaxelafx.iteye.com/blog/1021619" target="_blank" rel="noopener">JDK6u25里添加的按线程统计分配内存量: JMX</a></li>
<li><a href="http://blog.jruby.org/2011/12/monitoring-memory_allocation-per-thread/" target="_blank" rel="noopener">Monitoring memory allocation per thread</a>  </li>
<li><a href="http://stackoverflow.com/questions/10037723/analyze-visualize-gc-usage-patterns-between-two-versions-of-a-program" target="_blank" rel="noopener">Analyze/visualize GC usage patterns between two versions of a program? - Stack Overflow</a> </li>
</ul>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/21/track-cumulative-java-heap-bytes-allocated-on-a-per-thread-basis/" data-id="cja9q2adg002inh5ioyxdm9ma" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-update-time-on-linux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/19/update-time-on-linux/" class="article-date">
  <time datetime="2013-03-19T08:23:00.000Z" itemprop="datePublished">2013-03-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux-Shell/">Linux Shell</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/19/update-time-on-linux/">Linux服务器时间同步</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>经常有各种因为服务器时间不一致引发的各种血案：  </p>
<ol>
<li>依赖系统时间生成的ID序列  </li>
<li>依赖系统时间进行同步的协议  </li>
<li>插入的数据依赖于数据库服务器的时间</li>
</ol>
<p>同时查看多服务器时间的脚本  </p>
<pre><code>for ip in {10.1.1.10,10.1.1.12};do ssh root@$ip date;done
</code></pre><p>更新服务器时间</p>
<pre><code>/usr/sbin/ntpdate ntp.sohu.com &gt; /dev/null 2&gt;&amp;1;/sbin/clock -w
</code></pre>
      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/19/update-time-on-linux/" data-id="cja9q2ade002enh5i2vdq681s" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linked-hashmap" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/18/linked-hashmap/" class="article-date">
  <time datetime="2013-03-17T17:04:00.000Z" itemprop="datePublished">2013-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/18/linked-hashmap/">LinkedHashMap</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>LinkedHashMap 是 Map 接口的哈希表和链接列表实现，具有可预知的迭代顺序。此实现与 HashMap 的不同之处在于，后者维护着一个运行于所有条目的双重链接列表。此链接列表定义了迭代顺序，该迭代顺序通常就是将键插入到映射中的顺序（插入顺序）。<br>注意，如果在映射中重新插入 键，则插入顺序不受影响。</p>
<p>1.LinkedHashMap数据成员</p>
<pre><code>/**
 * The head of the doubly linked list.
 */
// 双向链接的头指针
private transient Entry&lt;K,V&gt; header;

/**
 * The iteration ordering method for this linked hash map: &lt;tt&gt;true&lt;/tt&gt;
 * for access-order, &lt;tt&gt;false&lt;/tt&gt; for insertion-order.
 *
 * @serial
 */
// 迭代的排序方式：设置为true则按访问顺序，否则按插入顺序
private final boolean accessOrder;
</code></pre><p>2.LinkedHashMap构造方法</p>
<pre><code>/**
 * Constructs an empty &lt;tt&gt;LinkedHashMap&lt;/tt&gt; instance with the
 * specified initial capacity, load factor and ordering mode.
 *
 * @param  initialCapacity the initial capacity
 * @param  loadFactor      the load factor
 * @param  accessOrder     the ordering mode - &lt;tt&gt;true&lt;/tt&gt; for
 *         access-order, &lt;tt&gt;false&lt;/tt&gt; for insertion-order
 * @throws IllegalArgumentException if the initial capacity is negative
 *         or the load factor is nonpositive
 */
public LinkedHashMap(int initialCapacity,
                     float loadFactor,
                     boolean accessOrder) {
    super(initialCapacity, loadFactor);
    this.accessOrder = accessOrder;
}

/**
 * Called by superclass constructors and pseudoconstructors (clone,
 * readObject) before any entries are inserted into the map.  Initializes
 * the chain.
 */
// 被父类HashMap的构造函数调用
void init() {
    // 初始化双向链接的头指针
    header = new Entry&lt;K,V&gt;(-1, null, null, null);
    header.before = header.after = header;
}
</code></pre><p>3.LinkedHashMap的Entry  </p>
<p>添加了before,after 两个引用，用来构造双向链表</p>
<pre><code>/**
 * LinkedHashMap entry.
 */
private static class Entry&lt;K,V&gt; extends HashMap.Entry&lt;K,V&gt; {
    // These fields comprise the doubly linked list used for iteration.
    Entry&lt;K,V&gt; before, after;

    Entry(int hash, K key, V value, HashMap.Entry&lt;K,V&gt; next) {
        super(hash, key, value, next);
    }

    /**
     * Removes this entry from the linked list.
     */
    // 从双向链表中移除
    private void remove() {
        before.after = after;
        after.before = before;
    }

    /**
     * Inserts this entry before the specified existing entry in the list.
     */
    private void addBefore(Entry&lt;K,V&gt; existingEntry) {
        after  = existingEntry;
        before = existingEntry.before;
        before.after = this;
        after.before = this;
    }

    /**
     * This method is invoked by the superclass whenever the value
     * of a pre-existing entry is read by Map.get or modified by Map.set.
     * If the enclosing Map is access-ordered, it moves the entry
     * to the end of the list; otherwise, it does nothing.
     */
    // Override了父类的recordAccess方法，用来记录访问顺序
    void recordAccess(HashMap&lt;K,V&gt; m) {
        LinkedHashMap&lt;K,V&gt; lm = (LinkedHashMap&lt;K,V&gt;)m;
        if (lm.accessOrder) {
            lm.modCount++;
            remove();
            // 添加到链表的头部之前（即末尾）
            // put 方法修改会引起顺序的变更
            addBefore(lm.header);
        }
    }

    void recordRemoval(HashMap&lt;K,V&gt; m) {
        remove();
    }
}
</code></pre><p>addEntry方法</p>
<pre><code>/**
 * This override alters behavior of superclass put method. It causes newly
 * allocated entry to get inserted at the end of the linked list and
 * removes the eldest entry if appropriate.
 */
void addEntry(int hash, K key, V value, int bucketIndex) {
    createEntry(hash, key, value, bucketIndex);

    // Remove eldest entry if instructed, else grow capacity if appropriate
    // 根据方法判断是否移除最老的元素，如果返回true，可以实现一个简单的LRUCache
    Entry&lt;K,V&gt; eldest = header.after;
    if (removeEldestEntry(eldest)) {
        removeEntryForKey(eldest.key);
    } else {
        // 大小超过threshold，进行rehash 扩容
        if (size &gt;= threshold)
            resize(2 * table.length);
    }
}

/**
 * This override differs from addEntry in that it doesn&apos;t resize the
 * table or remove the eldest entry.
 */
void createEntry(int hash, K key, V value, int bucketIndex) {
    HashMap.Entry&lt;K,V&gt; old = table[bucketIndex];
    Entry&lt;K,V&gt; e = new Entry&lt;K,V&gt;(hash, key, value, old);
    table[bucketIndex] = e;
    // 创建一个entry，并添加到双向链表的末尾
    e.addBefore(header);
    size++;
}

protected boolean removeEldestEntry(Map.Entry&lt;K,V&gt; eldest) {
    return false;
}
</code></pre><p>可以重写 <strong>removeEldestEntry(Map.Entry)</strong> 方法来实施策略，以便在将新映射关系添加到映射时自动移除旧的映射关系。<br>示例用法：此重写允许映射增加到 100 个条目，然后每次添加新条目时删除最旧的条目，始终维持 100 个条目的稳定状态。 </p>
<pre><code>private static final int MAX_ENTRIES = 100;

protected boolean removeEldestEntry(Map.Entry eldest) {
   return size() &gt; MAX_ENTRIES;
}
</code></pre><p>transfer方法</p>
<pre><code>/**
 * Transfers all entries to new table array.  This method is called
 * by superclass resize.  It is overridden for performance, as it is
 * faster to iterate using our linked list.
 */
void transfer(HashMap.Entry[] newTable) {
    // 由于记录了双向链表，遍历所有entry变得更加简单
    int newCapacity = newTable.length;
    for (Entry&lt;K,V&gt; e = header.after; e != header; e = e.after) {
        int index = indexFor(e.hash, newCapacity);
        e.next = newTable[index];
        newTable[index] = e;
    }
}
</code></pre><p>迭代器的实现 </p>
<pre><code>private abstract class LinkedHashIterator&lt;T&gt; implements Iterator&lt;T&gt; {
    // 第一次next元素 是 header.after
    Entry&lt;K,V&gt; nextEntry    = header.after;
    Entry&lt;K,V&gt; lastReturned = null;

    /**
     * The modCount value that the iterator believes that the backing
     * List should have.  If this expectation is violated, the iterator
     * has detected concurrent modification.
     */
    int expectedModCount = modCount;

    public boolean hasNext() {
        return nextEntry != header;
    }

    public void remove() {
        if (lastReturned == null)
            throw new IllegalStateException();
        if (modCount != expectedModCount)
            throw new ConcurrentModificationException();

        LinkedHashMap.this.remove(lastReturned.key);
        lastReturned = null;
        expectedModCount = modCount;
    }

    Entry&lt;K,V&gt; nextEntry() {
        if (modCount != expectedModCount)
            throw new ConcurrentModificationException();
        if (nextEntry == header)
            throw new NoSuchElementException();

        // 通过迭代链表的指针进行遍历
        Entry&lt;K,V&gt; e = lastReturned = nextEntry;
        nextEntry = e.after;
        return e;
    }
}

private class EntryIterator extends LinkedHashIterator&lt;Map.Entry&lt;K,V&gt;&gt; {
    public Map.Entry&lt;K,V&gt; next() { return nextEntry(); }
}
</code></pre>
      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/18/linked-hashmap/" data-id="cja9q2adc002cnh5i76o5emwi" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-keys-on-linux-shell" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/17/keys-on-linux-shell/" class="article-date">
  <time datetime="2013-03-17T10:28:00.000Z" itemprop="datePublished">2013-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux-Shell/">Linux Shell</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/17/keys-on-linux-shell/">Linux 命令行快捷键</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【移动光标】　　</p>
<p>Ctrl+A    标移到行首。它在多数文本编辑器和 Mozilla 的 URL 字段内可以使用。<br>Ctrl+E    把光标移到行尾。它在多数文本编辑器和 Mozilla 的 URL 字段内都可使用。</p>
<p>Alt+F 光标向前移动一个单词<br>Alt+B 光标向后移动一个单词</p>
<p>Ctrl+F 光标向前移动一个字符,相当与-&gt;<br>Ctrl+B 光标向后移动一个字符,相当与&lt;-</p>
<p>Esc+B 移动到当前单词的开头<br>Esc+F 移动到当前单词的结尾</p>
<p>【屏幕操作】<br>CTRL+U 向上滚动半屏<br>CTRL+D 向下滚动半屏<br> [Ctrl] + [l] = 清屏。该快捷操作与在命令行键入 clear 作用相同。  </p>
<p>【剪切、删除、粘贴】<br>Ctrl+u 剪切命令行中光标所在处之前的所有字符（不包括自身）<br>Ctrl+k 剪切命令行中光标所在处之后的所有字符（包括自身）[行尾]  </p>
<p>Ctrl+Y 粘贴刚才所删除的字符  </p>
<p>Ctrl+c 删除整行  </p>
<p>Ctrl+d 删除光标所在处字符<br>Ctrl+h 删除光标所在处前一个字符</p>
<p>Ctrl+w 剪切光标所在处之前的一个词（以空格、标点等为分隔符）<br>Alt+d 剪切光标之后的词<br>Esc+w 删除光标所在处之前的字符至其单词尾（以空格、标点等为分隔符）</p>
<p>【字符编辑】<br>Alt+u 把当前词转化为大写<br>Alt+l 把当前词转化为小写<br>Alt+c 把当前词汇变成首字符大写<br>Ctrl+v 插入特殊字符,如Ctrl+v+Tab加入Tab字符键（输入控制字符 如Ctrl+v ,会输入^M）<br>Esc+t 颠倒光标所在处及其相邻单词的位置<br>Ctrl+t 颠倒光标所在处及其之前的字符位置，并将光标移动到下一个字符（<br>交换光标前两个字符）<br>Alt+t 交换当前与以前单词的位置<br>Ctrl+(x u) 按住Ctrl的同时再先后按x和u，撤销刚才的操作  </p>
<p> 【命令历史】</p>
<p>history   显示命令历史列表。在 shell 提示中键入它来显示你所键入的被编号的前 1000 个命令。要显示较短的命令历史，键入 history f之后，空一格，在键入一个数字。例如： history 20 。<br>↑(Ctrl+p) 显示上一条命令  （你在当前目录下键入的命令历史）<br>↓(Ctrl+n) 显示下一条命令  </p>
<p>!! （执行）上一条命令  </p>
<p>ls !$ 执行命令ls，并以上一条命令的参数为其参数</p>
<p>!num 执行命令历史列表的第num条命令</p>
<p>!-n 倒数第N条历史命令</p>
<p>!-n:p 打印上一条命令（不执行）</p>
<p> !-n:gs/str1/str2/ - 将倒数第N条命令的str1替换为str2，并执行（若不加g,则仅替换第一个）</p>
<p>!?string? 执行含有string字符串的最新命令<br>Ctrl+r 然后输入若干字符，开始向上搜索包含该字符的命令，继续按Ctrl+r，搜索上一条匹配的命令<br>[不能正常使用，与 挂起当前shell 冲突] Ctrl+s 与Ctrl+r类似,只是正向检索<br>Alt+&lt; 历史列表第一项<br>Alt+&gt; 历史列表最后一项  </p>
<p>【终端控制】</p>
<p>Tab：命令行自动补全。使用 shell 提示时可使用这一命令。键入命令或文件名的前几个字符，然后按 [Tab] 键，它会自动补全命令或显示匹配你键入字符的所有命令。</p>
<p>Ctrl+C 终止当前正在运行的程序。</p>
<p>Ctrl+s 挂起当前shell<br>Ctrl+q 重新启用挂起的shell</p>
<!--
//Ctrl-Z: 暂停程序，并将进程移到后台（处理暂停状态）。  
//Ctrl-S: 停止向屏幕输出。  
//Ctrl-Q: 重新激活向屏幕输出。  
-->
<p> [Ctrl] + [d] = 从 shell 提示中注销（并关闭）。使用该快捷键，你就不必键入 exit 或 logout 。</p>
<p>exit = 注销。在 shell 提示中键入它会注销当前的用户或根用户帐号。<br> [Ctrl] + [l] = 清屏幕。该快捷操作与在命令行键入 clear 作用相同。<br>clear = 清除 shell 提示屏幕。在命令行下键入它会清除所有这个 shell 提示屏幕中显示的数据。</p>
<p> [Ctrl] + = 清除当前行。如果你在终端下工作，使用这一快捷操作可以清除从光标处到行首的字符。</p>
<p>reset = 刷新 shell 提示屏幕。如果字符不清晰或乱码的话，在 shell 提示下键入这个命令会刷新屏幕。</p>
<p>【窗口或系统】</p>
<p>[Ctrl] + [Alt] + [Backspace] = 杀死你当前的 X 会话。杀死图形化桌面会话，把你返回到登录屏幕。如果正常退出步骤不起作用，你可以使用这种方法。（有时候在 X-Window里由于程序出错，使鼠标键盘都不起作用， 这时候不用着急， 因为在Linux下几乎不会像在Win 9x里那样恶性死机， 你只须键入Ctrl+Alt+BackSpace键就可以回到字符界面下了。）  </p>
<p>[Ctrl] + [Alt] + [Delete] = 关机和重新引导 Red Hat Linux。关闭你当前的会话然后重新引导 OS。只有在正常关机步骤不起作用时才使用这种方法。  </p>
<p>[Ctrl] + [Alt] + [Fn] = 切换屏幕。 [Ctrl] + [Alt] + 功能键之一会显示一个新屏幕。根据默认设置，从 [F1] 到 [F6] 是 shell 提示屏幕， [F7] 是图形化屏幕。  </p>
<p>[Alt] + [Tab] = 在图形化桌面环境中切换任务。如果你同时打开了不止一个应用程序，你可以使用 [Alt] + [Tab] 来在打开的任务和应用程序间切换。</p>
<p>【鼠标GUI操作】</p>
<p>[鼠标中间键] = 粘贴突出显示的文本。使用鼠标左键来突出显示文本。把光标指向你想粘贴文本的地方。点击鼠标中间键来粘贴它。在两键鼠标系统中，如果你把鼠标配置成模拟第三键，你可以同时点击鼠标的左右两键来执行粘贴。</p>
<ul>
<li>Left-click-and-drag mouse: 选择并且拷贝到剪贴板。</li>
<li>Click middle mouse button: 使用剪贴板的内容粘贴。</li>
<li>Meta-key (Emacs terminology) 传统的是使用 Left-Alt-key</li>
</ul>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/17/keys-on-linux-shell/" data-id="cja9q2ad70024nh5it5ip94g0" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/17/linux-command/" class="article-date">
  <time datetime="2013-03-17T10:25:00.000Z" itemprop="datePublished">2013-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux-Shell/">Linux Shell</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/17/linux-command/">Linux 常用命令大全</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>【帮助命令】<br>command –help<br>man command<br>man 2 command 查看第2个帮助文件<br>man -k keyword 查找含有关键字的帮助<br>info command 查看指令的帮助信息<br>whatis command 获取指令索引的简短说明<br>whatis apropos keyword = man -k keyword  </p>
<p>type command  显示是内建指令/别名/path 中的路径<br>type -a command 显示path 中的命令路径<br>which [command]  查找命令的所在位置<br>whereis [command]  显示系统命令及其文档所在目录<br>sh  shell_script_file 以shell 的方式执行命令  </p>
<p>【登录】<br>login<br>logout 或 exit (Ctrl + D)  </p>
<p>【系统管理】<br>reboot    重新开机<br>shutdown -r now 立即重启<br>shutdown -h now 立即关机<br>shutdown -c 取消关机  </p>
<p>date    显示或设置系统时间与日期。<br>cal    显示系统日历。<br>exit    退出目前的shell。  </p>
<p>su 变更用户身份<br>sudo 以其他身份来执行指令。<br>sudo !! 以管理员身份执行上次指令。  </p>
<p>【系统日志查看】<br>uptime 查看系统负载与 运行时间<br>last reboot 查看上次重启的时间<br>lastlog  查看上次登录时间<br>less /var/log/message  可以滚动浏览日志信息<br>tail -1000f  /var/log/message 查看日志文件最后1000行，并继续监控文件并输出新内容。<br>head /var/log/messages 查看日志文件的头10行<br>dmesg |more  查看最后一次系统引导的引导日志。<br>more 分页查看日志信息</p>
<p>【查看系统限制】<br>ulimit -n<br>ulimit -a  查看系统的连接数限制<br>或者写入 ulimit -n 65536  &gt;&gt;  /etc/profile<br>cat /etc/security/limits.conf<br>cat /proc/sys/fs/file-max  </p>
<p>【文件查看】<br>cat [文件名]     输出文件<br>tail -10 -f filename 显示文件最后10行(参数-f 不停地读取文件最新的内容)<br>head -10 filename  查看文件的头10行<br>more filename  分页显示文件内容<br>less filename  可翻页滚屏的文件查看</p>
<p>diff [文件或目录1] [文件或目录2]     比较文件的差异  </p>
<p>【文档编辑】<br>vi 编辑文档命令<br>awk 文本编辑指令<br>grep 查找文件里符合条件的字符串<br>sed    利用script来处理文本文件<br>wc    计算字数<br>wc -l  统计行数  </p>
<p>【目录】<br>~ 用户主目录<br>/ 根目录  </p>
<p>【文件管理】<br>touch  [filename] 生成空文件或改变文件时间截<br>pwd    显示当前目录。<br>realpath [文件名] 显示当前文件的真实路径 (需要安装)<br>cd    切换目录。<br>cd - 切换到上一次访问的目录。<br>mkdir  -p [目录结构]  建立目录。<br>mkdir -m 755 newdir  建立目录并指定权限<br>rmdir    删除目录。<br>rmdir  -p 逐层删除目录。  </p>
<p>du    显示目录或文件的大小。<br>du -sh dir 显示目录的汇总大小。<br>du -h –max-depth=0 显示当前文件的文件大小，指定了深度<br>df  -ahT  显示磁盘的相关信息。  </p>
<p>ls    列出目录内容。<br>ll –time-style full-iso   完全格式时间<br>ll -t   按时间排序<br>ls -lrt  最新的在最后面。<br>tree    以树状图列出目录的内容。  </p>
<p>cp -r  [源文件] [目标文件]  复制<br>cp -p   保留原文件的日期<br>ln -s  [源文件] [目标文件]   创建符号链接<br>mv  [源文件] [目标文件|新名称]   移动或重命名现有的文件或目录<br>rm -rf *  删除文件或目录<br>rm -ri  删除文件并确认<br>split -n     切割文件  </p>
<p>【权限管理】<br>chown -R [user.group]     变更文件或目录的拥有者或所属群组<br>chmod -R [ugo|a] [rwx-]  变更文件或目录的权限<br>chgrp -R     变更文件或目录的所属群组<br>（不常用）umask 设置文件的默认权限 掩码  </p>
<p>【文件查找】<br>grep 命令 </p>
<pre><code>grep -r  keyword /home/cjf  在指定目录/home/cjf 查找 包含关键字 文件  
grep -r --include=*.java  keyword  /home/cjf/   查找指定目录下某一类型文件，包含keyword的文件  
grep -v &quot;keyword&quot;  忽略掉含有关键词  
</code></pre><p>find 查找文件或目录   </p>
<pre><code>查找文件名中含有activity的java文件  
find  path  -name *.java  -name *Activity*  
find  /home/cjf/  -name *.java  -name *Activity*  

查找文件中含有 SwitchyPac 的文件 （建议用grep 实现 ）  
find /etc -name &apos;*&apos; -type f -exec cat {} \;|grep &apos;SwitchyPac&apos;  
</code></pre><p>locate    通过索引查找文件<br>     cd / &amp;&amp; locate *.desktop<br>updatedb 建立或更新locate 使用的索引数据库  </p>
<p>【文件传输】<br>scp local_file user@host:remote_file 本地上传文件到远程<br>scp user@host:remote_file local_file  下载远程文件到本地   </p>
<pre><code>scp ./cloudatlas-topic-service-dist.tar.gz  root@192.1.1.202:/opt/webapps/cloudatlas-topic-service-dist.tar.gz  
</code></pre><p>wget [url]  -P  [local_dir] 利用wget下载文件  </p>
<p>lftp,sftp      </p>
<pre><code>lftp sftp://ip
user root
password
mget file
exit
</code></pre><p>快速启用http服务  python -m SimpleHTTPServer  </p>
<p>【磁盘管理】<br>df -ah   显示磁盘的相关信息。<br>mount    挂载设备   </p>
<pre><code>mount / mount -l 列出当前已挂载的文件系统  
mount -a 从/etc/fstab 挂载所有文件，可用来测试当前配置是否正确   
mount -t vfstype  -o options  dev dir    挂载文件系统类型为vfstype 的 dev 设备到 目录  dir.  
     写入 /etc/fstab 实现开机自动挂载       

sudo mkdir /media/Work      
sudo mount -t ntfs -o rw /dev/sda3 /media/Work
sudo umount /dev/sda3
sudo rmdir /media/Work

sudo mount -t ntfs -o rw,nosuid,nodev,allow_other /dev/sda3 /media/Work

挂载光盘
mkdir /media/iso
mount -o loop  linux.iso /media/iso
</code></pre><p>umount    卸除文件系统。<br>umount -a  卸载/etc/mtab 所有的文件系统<br>quota    显示磁盘已使用的空间与限制。  </p>
<p>【磁盘维护】<br>dd      dd可从标准输入或文件读取数据，依指定的格式来转换数据，再输出到文件，设备或标准输出。<br>fdisk -l   列出所有磁盘分区。<br>mkswap     设置交换区(swap area)。  </p>
<p>【网络通讯】<br>hostname 显示或修改主机名(临时有效)<br>vi /etc/hostname 修改主机名<br>dnsconfig    设置DNS服务器组态。<br>ifconfig    显示或设置网络设备。  </p>
<p>netstat   -tulnp|grep  [port|processname]    显示网络状态。<br>ss -l  显示正处于监听状态的socket<br>ss -s 显示socket 统计信息<br>lsof 显示打开的文件<br>lsof -p pid<br>lsof -i  显示打开的IPv4网络连接<br>lsof -i|grep pid|wc -l 显示某个进程打开的网络连接  </p>
<p>tcpdump   </p>
<p>ping -c 3 www.google.com   检测主机。<br>traceroute    显示数据包到主机间的路径。<br>nslookup [域名domain] 显示域名的dns 服务器<br>nslookup www.baidu.com<br>mtr google.com     traceroute + ping  google.com  </p>
<p>nc    设置路由器。<br>samba    Samba服务器控制。 </p>
<p>【网络代理】<br>http代理 http_proxy<br>https安全代理 https_proxy<br>ftp理  ftp_proxy<br>不使用代理  no_proxy  </p>
<p>export https_proxy=localhost:8087  </p>
<pre><code>[inbi@debian ~]#export http_proxy=itwhy:123456@proxy.itwhy.org:8080
#http_proxy：表示使用http代理方式
#itwhy：是代理使用的用户名
#123456：密码啊！
#proxy.itwhy.org：代理地址，可以是IP，也可以是域名
#8080：使用的端口
#如果需要永久有效，需要将以上命令写入文件哦！例如：
[inbi@debian ~]#echo &quot;export http_proxy=proxy.itwhy.org:8888&quot; &gt; ~/.profile
</code></pre><p>【进程或性能】<br>top 管理执行中的程序。<br>top -p pid -H  查看进程中线程的运行状态  </p>
<p>free  -m  显示内存状态。<br>vmstat 报告系统内存状态.<br>vmstat -S m 1  每1秒打印系统状态<br>pmap pid 查看某个进程的内存占用状态<br>strace -p pid 跟踪linux 系统调用   </p>
<p>sar<br>sar -d 查看磁盘IO统计<br>sar -n SOCK 查看socket 连接<br>sar -n DEV 查看网络情况<br>sysctl -a 查看系统内核参数<br>vi /etc/sysctl.conf<br>sysctl -p 永久修改内核参数  </p>
<p>iostat 显示当前IO状态<br>time 查看命令执行的时间  </p>
<p>last    列出目前与过去登入系统的用户相关信息。<br>lastlog 上次登录日志<br>last reboot 上次重启记录<br>uptime 显示当前系统的负载情况  </p>
<p>ps aux|grep [processname]  查找进程<br>ps -ef|grep [processname]  查找进程 (可以看到父进程id)<br>ps axu|grep qemu|awk ‘{print $2}’|xargs kill -9  杀死进程名称中包含qemu的所有进程<br>ps -efww|grep LOCAL=NO|grep -v grep|cut -c 9-15|xargs kill -9 　杀死进程命令行中包含LOCAL=NO的所有进程<br>pkill 通过进程名杀死进程<br>ps e 查看进程所用的环境变量<br>pstree 以树状图显示程序。<br>kill 删除执行中的程序或工作。 </p>
<p>【后台执行】<br>ctrl + c 终止并退出前台命令的执行，回到shell<br>crrl + z 暂停前台命令的执行，将该进程放入后台（暂停状态），回到shell<br>jobs 查看后台运行的任务,可查看命令进程作业号job id  </p>
<pre><code>+ 代表当前的默认作业。  
-  代表下一个默认作业。  
</code></pre><p>command  &amp; (加在命令末尾)让程序在后台运行，如果终端关闭，那么程序也会被关闭。<br>bg N 让作业号为N的进程在后台运行<br>fg N  让作业号为N的进程恢复到前台运行<br>%% 或 %+ 表示默认作业号<br>%N   让作业号为N的进程恢复到前台运行<br>kill %N 可以杀死对应的作业进程<br>nohup command  [args] [&amp;] 让程序永远在linux后台运行。<br>setsid command 在新的会话中运行命令，父进程id 为1.  </p>
<p>【定时任务】<br>crontab [-u user] -l  列出定时任务<br>crontab [-u user]  -e 编辑定时任务<br>crontab [-u user]  -r  删除定时任务  </p>
<p>【用户管理】<br>adduser    新增用户帐号。<br>useradd    建立用户帐号。<br>userconf    用户帐号设置程序。<br>userdel 删除用户帐号。<br>usermod    修改用户帐号。<br>w    who    显示目前登入系统的用户信息。<br>password    设置密码。  </p>
<p>groupdel [群组名称]    删除群组。<br>groupmod [-g &lt;群组识别码&gt; &lt;-o&gt;][-n &lt;新群组名称&gt;][群组名称]   更改群组识别码或名称。  </p>
<p>【系统设置】<br>hostname 显示或修改主机名<br>cat /etc/profile 显示系统配置  </p>
<p>export 查看所有环境变更，同windows中的set<br>export [-fnp][变量名称]=[变量设置值]    设置或显示环境变量。  </p>
<p>alias[别名]=[指令名称]     设置指令的别名。<br>unalias    删除别名。  </p>
<p>chroot    改变根目录。<br>clear    清除屏幕。<br>depmod    分析可载入模块的相依性。  </p>
<p>【服务管理】<br>chkconfig –list    检查，设置系统的各种服务。<br>     chkconfig –list|grep on<br>     chkconfig servicename on<br>ntsysv 设置系统的各种服务。<br>服务启动配置路径 /etc/init.d  </p>
<p>【软件安装】<br>1.readhat 系统  </p>
<p>yum search   [软件名]<br>yum install  [软件名]  </p>
<p>rpm -i [软件名]  安装软件<br>rpm -e [软件名]  删除软件<br>rpm -V 验证软件安装<br>rpm -U 升级<br>rpm -q [软件名]  查询软件情况<br>rpm -qa|grep [关键字]  查询软件是否已安装  </p>
<ol>
<li>ubuntu 系统</li>
</ol>
<p>apt-get update 更新软件列表<br>apt-cache search [软件名]<br>apt-get install [软件名]<br>apt-get remove [软件名]    </p>
<p>dpkg -L [软件名]  显示软件安装目录   </p>
<p>【文件磁盘大小】<br>du -ah –max-depth =1 查看文件夹大小<br>ll -ah  查看文件本身大小<br>df -ah 查看当前磁盘分区占用情况。<br>fdisk -l 查看硬盘分区的情况 。<br>lsblk  查看物理硬盘列表。  </p>
<p>【压缩】<br>gzip 压缩文件<br>tar  压缩指令  </p>
<pre><code>1.将当前目录下所有.txt文件打包并压缩归档到文件this.tar.gz，我们可以使用
tar -zcvf  target.tar.gz  ./*.txt \
tar -zcv  srcfolder -f target.tar.gz

2.将当前目录下的this.tar.gz中的文件解压到当前目录我们可以使用
tar -zxvf this.tar.gz ./
tar -zxvf apache-tomcat.gz -C  /opt
</code></pre><p>tar -xvf file.tar </p>
<p>zip [参数] [文件列表]</p>
<pre><code>zip -r  test.zip test/*
</code></pre><p>unzip test.zip<br>bzip2  压缩产生bz2后缀的文件<br>bunzip2</p>
<p>jar 指令  </p>
<pre><code>jar -cvfM0  game.war  ./   将当前目录或指定目录打包成war  
jar -xvf game.war  解压war到当前目录  
</code></pre><p>【备份】<br>dump<br>restore </p>
<p>【SSH】<br>.ssh 文件夹下<br>ssh-keygen -t rsa -f id_rsa  生成RSA密钥对<br>cp id_rsa  ~/.ssh/authorized_key/   </p>
<hr>
<p>【系统信息查看】</p>
<p>查看系统与内核信息<br>uname -r 查看系统kernal 版本<br>uname -a  显示全部信息<br>lsb_release -a  查看当前系统的发行版本信息<br>cat /etc/issue 查看查看系统的发行版<br>cat /proc/version 查看当前系统的发行版本<br>getconf LONG_BIT 查看当前的Linux计算机是32位或64位<br>cat /etc/profile 查看环境变量  </p>
<p><strong>查看硬件信息</strong><br>lsblk 逻辑块设备，可以查看挂载的硬盘信息<br>lscpu 查看cpu<br>cat /proc/cpuinfo 查看cpu详细信息<br>lsusb 查看usb 接口<br>lsmod    program to show the status of modules in the Linux Kernel<br>hostname 查看当前系统的主机名  </p>
<p><strong>查看内存</strong><br>free<br>free -m 以MB的单位查看<br>free -g  以GB为单位查看<br>vmstat<br>cat /proc/meminfo 查看内存信息  </p>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/17/linux-command/" data-id="cja9q2ad80027nh5irhtdpray" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-security-issues-with-jsonp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/17/security-issues-with-jsonp/" class="article-date">
  <time datetime="2013-03-17T06:22:00.000Z" itemprop="datePublished">2013-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/jsonp-security/">jsonp security</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/17/security-issues-with-jsonp/">security issues with jsonp</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>jsonp 是常用的跨域请求调用方式，然而不加限制的jsonp请求将给系统带来致命的危险。</p>
<h4 id="安全隐患"><a href="#安全隐患" class="headerlink" title="安全隐患"></a>安全隐患</h4><ol>
<li>可能被他人嵌入到页面中，从而实现DDOS请求攻击。  </li>
<li>如果有修改数据的接口被开放为JSONP，数据有可能被恶意脚本修改。<br>例如：访问这个页面就执行登录用户的发微博，加好友等操作。</li>
</ol>
<h4 id="措施"><a href="#措施" class="headerlink" title="措施"></a>措施</h4><ol>
<li>限制JSONP的接口为只读数据请求。  </li>
<li>如果需求修改数据的跨域请求，可嵌入一个iframe 页面，将将跨域请转化为站内请求。  </li>
<li>通过服务端代理转发跨域请求，例如通过 nginx 在服务端转发请求。  </li>
<li>可以通过flash 或 html5 进行跨域请求，限制jsonp请求来源refer的domain。  </li>
<li>JSONP 不能返回有安全性相关或用户相关的重要数据。  </li>
<li>无论是返回普通html页面还是json数据，都要对输出内容里进行escape,防止XSS 跨站脚本攻击。  </li>
</ol>
<p>参考资料</p>
<ul>
<li><a href="http://stackoverflow.com/questions/613962/is-jsonp-safe-to-use" target="_blank" rel="noopener">Is JSONP safe to use?</a> </li>
<li><a href="http://i.wanz.im/2012/05/19/use_sina_api_to_write_a_microblog_worm/" target="_blank" rel="noopener">使用新浪API接口编写微博蠕虫</a></li>
</ul>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/17/security-issues-with-jsonp/" data-id="cja9q2adb0029nh5idndas78y" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-config-solr-cloud" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/15/config-solr-cloud/" class="article-date">
  <time datetime="2013-03-15T08:37:00.000Z" itemprop="datePublished">2013-03-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Solr/">Solr</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/15/config-solr-cloud/">config solr cloud</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.配置solr.xml 文件</p>
<p>solr.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;solr persistent=&quot;true&quot; sharedLib=&quot;lib&quot;&gt;
  &lt;cores defaultCoreName=&quot;photos&quot; adminPath=&quot;/admin/cores&quot; zkClientTimeout=&quot;${zkClientTimeout:15000}&quot; hostPort=&quot;${jetty.port:}&quot; hostContext=&quot;solr&quot;&gt;
    &lt;core name=&quot;photos&quot; loadOnStartup=&quot;true&quot; instanceDir=&quot;photos\&quot; dataDir=&quot;${dataDir}\photos&quot; transient=&quot;false&quot;  /&gt;
    &lt;core name=&quot;users&quot;  loadOnStartup=&quot;true&quot; instanceDir=&quot;users\&quot;  dataDir=&quot;${dataDir}\users&quot; transient=&quot;false&quot; /&gt;
  &lt;/cores&gt;
&lt;/solr&gt;
</code></pre><p>参数：<br>${jetty.port:} jetty 启动的端口<br>${dataDir} 在启动时，指定数据存放的目录。</p>
<p>2.切分为两个分片的solr 启动脚本 </p>
<p>cd ./solr-4.1.0/example<br>java -Dsolr.solr.home=../../cloudatlas/solr/ -DdataDir=o:/opt/data/solr8983 -Djetty.port=8983 -Dbootstrap_conf=true -DzkRun -DnumShards=2 -jar start.jar</p>
<p>参数说明：<br>-Dsolr.solr.home 指定solr 的home目录，即solr配置文件所在的目录。<br>-DdataDir 指定数据文件的目录<br>-Dbootstrap_conf=true 指定此参数才能分别上传 photos，users 的schema 配置到Zookeeper<br>-DzkRun 启动Zookeeper<br>-DnumShards shard 的个数</p>
<p>其它的启动脚本 </p>
<p>cd ./solr-4.1.0/example<br>java -Dsolr.solr.home=../../cloudatlas/solr/ -DdataDir=o:/opt/data/solr8900 -Djetty.port=8900 -DzkHost=localhost:9983 -jar start.jar</p>
<p>cd ./solr-4.1.0/example<br>java -Dsolr.solr.home=../../cloudatlas/solr/ -DdataDir=o:/opt/data/solr7574 -Djetty.port=7574 -DzkHost=localhost:9983 -jar start.jar</p>
<p>cd ./solr-4.1.0/example<br>java -Dsolr.solr.home=../../cloudatlas/solr/ -DdataDir=o:/opt/data/solr7500 -Djetty.port=7500 -DzkHost=localhost:9983 -jar start.jar</p>
<p>以上，要分别指定不同的dataDir 和 jetty.port。</p>
<h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><ul>
<li><a href="http://wiki.apache.org/solr/SolrCloud" target="_blank" rel="noopener">SolrCloud</a>- Solr Wiki</li>
</ul>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/15/config-solr-cloud/" data-id="cja9q2ad4001ynh5i02zx2eu1" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jafka-troubleshooting" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/15/jafka-troubleshooting/" class="article-date">
  <time datetime="2013-03-15T02:57:00.000Z" itemprop="datePublished">2013-03-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/jafka-zookeeper/">jafka zookeeper</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/15/jafka-troubleshooting/">jafka troubleshooting</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>通过 jafka-watch 查看当前topic 及相应的consumer 情况，发现总有许多topic的某些partition 分片居然没有consumer 去消费。</p>
<h4 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h4><ol>
<li><p>刚开始认为是不是有的消费者没有连接上，于是把所有消费者都重新启动了一遍</p>
</li>
<li><p>重新启动完了以后，部分topic的所有分片是都有消费者消费，但某些topic还是存在分片没有人消费的情况。</p>
</li>
<li><p>确认所有消费者都在zookeeper的节点上注册了，于是怀疑 jafka 的 客户端的负载均衡算法有问题。</p>
</li>
</ol>
<p>class:ZookeeperConsumerConnector</p>
<pre><code>private boolean rebalance(Cluster cluster) {

    // map for current consumer: topic-&gt;[groupid-consumer-0,groupid-consumer-1,...,groupid-consumer-N]
    // 获取当前进程的消费者
    Map&lt;String, Set&lt;String&gt;&gt; myTopicThreadIdsMap = ZkUtils.getTopicCount(zkClient, group, consumerIdString)
            .getConsumerThreadIdsPerTopic();

    // map for all consumers in this group: topic-&gt;[groupid-consumer1-0,...,groupid-consumerX-N]
    // 获取当前group的所有消费者，会根据名称进行排序
    Map&lt;String, List&lt;String&gt;&gt; consumersPerTopicMap = ZkUtils.getConsumersPerTopic(zkClient, group);
    // map for all broker-partitions for the topics in this consumerid: topic-&gt;[brokerid0-partition0,...,brokeridN-partitionN]
    // 获取该topic的所有分片信息
    Map&lt;String, List&lt;String&gt;&gt; brokerPartitionsPerTopicMap = ZkUtils.getPartitionsForTopics(zkClient,
            myTopicThreadIdsMap.keySet());
    /**
     * fetchers must be stopped to avoid data duplication, since if the current
     * rebalancing attempt fails, the partitions that are released could be owned by
     * another consumer. But if we don&apos;t stop the fetchers first, this consumer would
     * continue returning data for released partitions in parallel. So, not stopping
     * the fetchers leads to duplicate data.
     */
    closeFetchers(cluster, messagesStreams, myTopicThreadIdsMap);
    releasePartitionOwnership(topicRegistry);
    //
    Map&lt;StringTuple, String&gt; partitionOwnershipDecision = new HashMap&lt;StringTuple, String&gt;();
    Pool&lt;String, Pool&lt;Partition, PartitionTopicInfo&gt;&gt; currentTopicRegistry = new Pool&lt;String, Pool&lt;Partition, PartitionTopicInfo&gt;&gt;();

    // 分配核心算法
    for (Map.Entry&lt;String, Set&lt;String&gt;&gt; e : myTopicThreadIdsMap.entrySet()) {
        final String topic = e.getKey();
        currentTopicRegistry.put(topic, new Pool&lt;Partition, PartitionTopicInfo&gt;());
        //
        ZkGroupTopicDirs topicDirs = new ZkGroupTopicDirs(group, topic);
        List&lt;String&gt; curConsumers = consumersPerTopicMap.get(topic);
        List&lt;String&gt; curBrokerPartitions = brokerPartitionsPerTopicMap.get(topic);

        // 每个消费者消费的分片数
        // 如果只有一个消费者线程，也可以消费所有分片
        final int nPartsPerConsumer = curBrokerPartitions.size() / curConsumers.size();
        final int nConsumersWithExtraPart = curBrokerPartitions.size() % curConsumers.size();

        logger.info(&quot;Consumer &quot; + consumerIdString + &quot; rebalancing the following partitions:\n    &quot; + curBrokerPartitions + &quot;\nfor topic &quot; + topic + &quot; with consumers:\n    &quot; + curConsumers);
        if (logger.isDebugEnabled()) {
            StringBuilder buf = new StringBuilder(1024);
            buf.append(&quot;[&quot;).append(topic).append(&quot;] preassigning details:&quot;);
            for (int i = 0; i &lt; curConsumers.size(); i++) {
                final int startPart = nPartsPerConsumer * i + Math.min(i, nConsumersWithExtraPart);
                final int nParts = nPartsPerConsumer + ((i + 1 &gt; nConsumersWithExtraPart) ? 0 : 1);
                if (nParts &gt; 0) {
                    for (int m = startPart; m &lt; startPart + nParts; m++) {
                        buf.append(&quot;\n    &quot;).append(curConsumers.get(i)).append(&quot; ==&gt; &quot;)
                                .append(curBrokerPartitions.get(m));
                    }
                }
            }
            logger.debug(buf.toString());
        }

        //consumerThreadId=&gt; groupid_consumerid-index (index from count)
        for (String consumerThreadId : e.getValue()) {
            // 消费的分片与当前消费者线程id 在 所有消费线程id的index有关
            final int myConsumerPosition = curConsumers.indexOf(consumerThreadId);
            assert (myConsumerPosition &gt;= 0);
            final int startPart = nPartsPerConsumer * myConsumerPosition + Math.min(myConsumerPosition,
                    nConsumersWithExtraPart);
            final int nParts = nPartsPerConsumer + ((myConsumerPosition + 1 &gt; nConsumersWithExtraPart) ? 0 : 1);

            /**
             * Range-partition the sorted partitions to consumers for better locality.
             * The first few consumers pick up an extra partition, if any.
             */
            if (nParts &lt;= 0) {
                logger.warn(&quot;No broker partitions consumed by consumer thread &quot; + consumerThreadId + &quot; for topic &quot; + topic);
            } else {
                for (int i = startPart; i &lt; startPart + nParts; i++) {
                    String brokerPartition = curBrokerPartitions.get(i);
                    logger.info(&quot;[&quot; + consumerThreadId + &quot;] ==&gt; &quot; + brokerPartition + &quot; claimming&quot;);
                    addPartitionTopicInfo(currentTopicRegistry, topicDirs, brokerPartition, topic,
                            consumerThreadId);
                    // record the partition ownership decision
                    partitionOwnershipDecision.put(new StringTuple(topic, brokerPartition), consumerThreadId);
                }
            }
        }
    }
    //
    /**
     * move the partition ownership here, since that can be used to indicate a truly
     * successful rebalancing attempt A rebalancing attempt is completed successfully
     * only after the fetchers have been started correctly
     */
    if (reflectPartitionOwnershipDecision(partitionOwnershipDecision)) {
        logger.debug(&quot;Updating the cache&quot;);
        logger.debug(&quot;Partitions per topic cache &quot; + brokerPartitionsPerTopicMap);
        logger.debug(&quot;Consumers per topic cache &quot; + consumersPerTopicMap);
        topicRegistry = currentTopicRegistry;
        updateFetcher(cluster, messagesStreams);
        return true;
    } else {
        return false;
    }
    ////////////////////////////
}
</code></pre><p>4.配置jafka 的logger 信息为INFO 状态， 发现居然返回的topic 消费者列表比实际存在的数量还多。</p>
<p>5.难道是zookeeper 的配置信息出错，于是遍历所有zookeeper 服务器，获取消费者列表。发现其中一台zookeeper 服务器的数据居然与 其它zookeeper服务器数据不一致，于是坑爹了。 zookeeper 这个号称提供 数据一致性 服务的东东，居然还能出现数据不一致的bug.</p>

      
    </div>
    <footer class="article-footer2">
      <div id="footer-info" class="inner">
        <a href="http://www.618shoe.com/">莆田1:1精仿鞋微信号</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋子的价格表</a>
        <a href="http://www.618shoe.com/">关于莆田仿鞋</a>
        <a href="http://www.618shoe.com/">莆田高仿鞋淘宝店店名</a>
        <a href="http://www.618shoe.com/">莆田精仿鞋官网</a>
         咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
      </div>
        <div id="footer-info" class="inner">
          <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
          <a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
      </div>
      <div id="footer-info" class="inner">
             <a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
             公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
             <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
             微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
      </div>
    </footer>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2013/03/15/jafka-troubleshooting/" data-id="cja9q2ad60021nh5iq9mxfjvh" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Catégories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/">Architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevTools/">DevTools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevTools-Eclipse/">DevTools Eclipse</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Btrace/">Java Btrace</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-JVM/">Java JVM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-MultiThreading/">Java MultiThreading</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-NIO/">Java NIO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Reflection/">Java Reflection</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Unicode/">Java Unicode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Shell/">Linux Shell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/NSQ-golang/">NSQ golang</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Solr/">Solr</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Solr-Lucene/">Solr Lucene</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Unicode-Python/">Unicode Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git-DevTools/">git DevTools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jafka-zookeeper/">jafka zookeeper</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jsonp-security/">jsonp security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/thrift/">thrift</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/zookeeper/">zookeeper</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/11/21/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/01/16/process-task-by-queue/">process task by queue</a>
          </li>
        
          <li>
            <a href="/2015/01/15/threadpoolexecutor/">ThreadPoolExecutor 学习笔记</a>
          </li>
        
          <li>
            <a href="/2014/02/19/nsq-internals/">nsq internals</a>
          </li>
        
          <li>
            <a href="/2014/02/18/nsq-design/">nsq design</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
 	<div id="footer-info" class="inner">
     咨询QQ：<a title="点击这里给我发消息" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2727291807&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank"><img src="http://wpa.qq.com/pa?p=2:2727291807:41"></a>
 	</div>
   	<div id="footer-info" class="inner">
     	<a href="http://www.618shoe.com/">莆田高仿鞋批发</a>&nbsp;&nbsp;
     	<a href="http://www.618shoe.com/">1：1高仿鞋批发</a>&nbsp;&nbsp;
     	<a href="http://www.618shoe.com/">高仿鞋批发市场</a>&nbsp;&nbsp;
     	<a href="http://www.618shoe.com/">高仿鞋网</a>&nbsp;&nbsp;
     	<a href="http://www.618shoe.com/">广州高仿鞋批发</a>&nbsp;&nbsp;
    	<a href="http://www.618shoe.com/">外贸尾单鞋批发</a>&nbsp;&nbsp;
    	<a href="http://www.618shoe.com/">精仿鞋专线</a>&nbsp;&nbsp;
	</div>
 	<div id="footer-info" class="inner">
         <a href="http://www.618shoe.com/">莆田高仿鞋批发微信号</a>&nbsp;&nbsp;
         公司网站:&nbsp;&nbsp;<a href="http://www.618shoe.com//" target="_blank">http://www.618shoe.com/</a>&nbsp;&nbsp;
         <a href="http://www.618shoe.com/">高仿鞋批发市场</a>
         微信 <img src="/pics/qrcode.jpg" style="width:100px;height:100px;">
 	</div>
    <div id="footer-info" class="inner">
      &copy; 2017 Sharewind<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>